<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link th:href="@{/static/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet" type="text/css">
<link th:href="@{/static/css/signin.css}" rel="stylesheet" type="text/css"/>
<script th:src="@{/static/vendor/jquery/jquery.min.js}"></script>
</head>
<body>
	<form class="form-signin" id="signinform" action="#">
      <img class="mb-4" src="https://getbootstrap.com/assets/brand/bootstrap-solid.svg" alt="" width="72" height="72">
      <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
      <label for="inputEmail" class="sr-only">Email address</label>
      <input type="input" name="email" id="inputEmail" class="form-control" placeholder="Email address" required="" autofocus="">
      <label for="inputPassword" class="sr-only">Password</label>
      <input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password" required="">
      <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
      <p class="mt-5 mb-3 text-muted">Â© 2017-2018</p>
    </form>
    <script>
		$("#signinform").submit(function(e){
			e.preventDefault();
			var username = $('#signinform').find('input[name="email"]').val();
			var password = $('#signinform').find('input[name="password"]').val();
			var data = JSON.stringify({
					"username": username,
					"password": password,
				})
			$.ajax({
				type: "POST",
				url: "http://localhost:8080/login",
				contentType: "application/json",
				success: function(data){
					console.log(data)
					localStorage.jwt = data
					location.href="http://localhost:8080/"
				},
				data: data
			})
		})
	</script>
</body>
</html>